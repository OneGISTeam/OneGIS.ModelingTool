#ifndef OSGPARTICLE_RANGE
#define OSGPARTICLE_RANGE 1

// include Export simply to disable Visual Studio silly warnings.
#include <VBF_Engine/VBF_Particle/Export>

#include <stdlib.h>

#include <Types/Vec2>
#include <Types/Vec3>
#include <Types/Vec4>

namespace osgParticle
{

    /**
        A simple struct template useful to store ranges of values as min/max pairs.
        This struct template helps storing min/max ranges for values of any kind; class <CODE>ValueType</CODE> is
        the type of values to be stored, and it must support operations <CODE>ValueType + ValueType</CODE>, <CODE>ValueType - ValueType</CODE>, 
        and <CODE>ValueType * float</CODE>, otherwise the <CODE>geValueTyperandom()</CODE> method will not compile.
        This struct could be extended to customize the random number generator (now it uses only 
        <CODE>std::rand()</CODE>).
    */
    template<class ValueType> struct range
    {    
        ValueType minimum;
        ValueType maximum;

        /// Construct the object by calling default constructors for min and max.
        range() : minimum(ValueType()), maximum(ValueType()) {}
        
        /// Construct and initialize min and max directly.
        range(const ValueType& mn, const ValueType& mx) : minimum(mn), maximum(mx) {}

        /// Set min and max.
        void set(const ValueType& mn, const ValueType& mx) { minimum = mn; maximum = mx; }

        /// Get a random value between min and max.
        ValueType get_random() const
        {
            return minimum + (maximum - minimum) * rand() / RAND_MAX;
        }

        /// Get a random square root value between min and max.
        ValueType get_random_sqrtf() const
        {
            return minimum + (maximum - minimum) * sqrtf( static_cast<float>(rand()) / static_cast<float>(RAND_MAX) );
        }
        
        ValueType mid() const
        {
            return (minimum+maximum)*0.5f;
        }

    };

    typedef range<float> rangef;
    typedef range<osg::Vec2> rangev2;
    typedef range<osg::Vec3> rangev3;
    typedef range<osg::Vec4> rangev4;

}

#endif
